<section>
  <div class="container py-5">
    <h2 class="mb-4">Registrácia zamestnanca - Template</h2>
    <form #employeeForm="ngForm" (ngSubmit)="submit()">
      <article>
        <h5 class="my-4">Základné informácie</h5>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="street">Meno:</label>
              <input
                type="text"
                class="form-control"
                minlength="3"
                [ngClass]="{
                  'is-invalid':
                    name.invalid &&
                    (name.dirty || name.touched || name.errors.minlength)
                }"
                id="name"
                name="name"
                required
                [(ngModel)]="form.name"
                #name="ngModel"
              />
              <div
                class="invalid-feedback"
                *ngIf="
                  name.invalid &&
                  (name.dirty || name.touched || name.errors.minlength)
                "
              >
                Prosím vyplňte povinné pole.
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="suite">Priezvisko:</label>
              <input
                type="text"
                class="form-control"
                id="surname"
                name="surname"
                required
                [ngClass]="{
                  'is-invalid':
                    surname.invalid && (surname.dirty || surname.touched)
                }"
                [(ngModel)]="form.surname"
                #surname="ngModel"
              />
              <div
                class="invalid-feedback"
                *ngIf="surname.invalid && (surname.dirty || surname.touched)"
              >
                Prosím vyplňte povinné pole.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="suite">Dátum narodenia:</label>
              <input
                type="date"
                class="form-control"
                id="birthdate"
                name="birthdate"
                required
                [(ngModel)]="form.birthday"
                #birthDay="ngModel"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="street">Pozícia:</label>
              <select
                class="custom-select"
                name="position"
                [(ngModel)]="form.position"
                #select="ngModel"
                required
                [ngClass]="{
                  'is-invalid':
                    select.invalid && (select.dirty || select.touched)
                }"
              >
                <option selected disabled>Vyberte pozíciu</option>
                <option
                  *ngFor="let position of positions"
                  [ngValue]="position.value"
                  >{{ position.value }}</option
                >
              </select>
            </div>
          </div>
        </div>
      </article>
      <article>
        <h5 class="my-4">Adresa</h5>
        <div class="row">
          <div class="col-md-9">
            <div class="form-group">
              <label for="street">Ulica:</label>
              <input
                type="text"
                class="form-control"
                id="street"
                name="street"
                #street="ngModel"
                required
                [ngClass]="{
                  'is-invalid':
                    street.invalid && (street.dirty || street.touched)
                }"
                [(ngModel)]="form.street"
              />
              <div
                class="invalid-feedback"
                *ngIf="street.invalid && (street.dirty || street.touched)"
              >
                Prosím vyplňte povinné pole.
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="form-group">
              <label for="houseNumber">Číslo domu:</label>
              <input
                type="text"
                class="form-control"
                id="houseNumber"
                name="suite"
                #houseNumber="ngModel"
                required
                [ngClass]="{
                  'is-invalid':
                    houseNumber.invalid &&
                    (houseNumber.dirty || houseNumber.touched)
                }"
                [(ngModel)]="form.houseNumber"
              />
            </div>
          </div>
        </div>
      </article>
      <div class="row">
        <div class="col-md-9">
          <div class="form-group">
            <label for="city">Mesto:</label>
            <input
              type="text"
              class="form-control"
              id="city"
              name="city"
              #city="ngModel"
              required
              [ngClass]="{
                'is-invalid': city.invalid && (city.dirty || city.touched)
              }"
              [(ngModel)]="form.city"
            />
            <div
              class="invalid-feedback"
              *ngIf="city.invalid && (city.dirty || city.touched)"
            >
              Prosím vyplňte povinné pole.
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="zipcode">PSČ:</label>
            <input
              type="text"
              class="form-control"
              id="zipcode"
              name="zipcode"
              [(ngModel)]="form.postal"
            />
          </div>
        </div>
      </div>
      <article>
        <h5 class="my-4">Kontakné informácie</h5>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="phone">Telefónne číslo:</label>
              <input
                type="text"
                class="form-control"
                id="number"
                name="number"
                [(ngModel)]="form.number"
                #number="ngModel"
                required
                [ngClass]="{
                  'is-invalid':
                    number.invalid && (number.dirty || number.touched)
                }"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="website">Web:</label>
              <input
                type="text"
                class="form-control"
                id="website"
                name="website"
                [(ngModel)]="form.web"
                #web="ngModel"
                required
                [ngClass]="{
                  'is-invalid': web.invalid && (web.dirty || web.touched)
                }"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="email">Email:</label>
              <input
                type="text"
                class="form-control"
                id="email"
                name="email"
                required
                [(ngModel)]="form.email"
                #email="ngModel"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                [ngClass]="{
                  'is-invalid':
                    email.invalid &&
                    (email.dirty || email.touched || email.errors.pattern)
                }"
              />
            </div>
          </div>
        </div>
      </article>
      <button
        type="submit"
        [disabled]="!employeeForm.valid"
        class="my-2 btn btn-primary"
      >
        Potvrdiť registráciu
      </button>
      <div *ngIf="!employeeForm.valid">
        Prosim vyplnte vsetky povinne polia pred odoslanim
      </div>
    </form>
  </div>
</section>
